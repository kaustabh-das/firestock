(this.webpackJsonpfirestock=this.webpackJsonpfirestock||[]).push([[0],{24:function(e,t,c){},28:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),i=c(18),r=c.n(i),s=(c(24),c(9)),l=c(3),o=function(){return Object(l.jsxs)("div",{className:"title",children:[Object(l.jsx)("h1",{children:"FireStock"}),Object(l.jsx)("h2",{children:"Your Pictures"}),Object(l.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."})]})},u=c(14),j=c.n(u),d=c(19),b=c(12);c(29),c(30);b.a.initializeApp({apiKey:"AIzaSyCawFG-OXXv6luYbLj59q5fEtqIl8xEBag",authDomain:"ninja-firestock.firebaseapp.com",projectId:"ninja-firestock",storageBucket:"ninja-firestock.appspot.com",messagingSenderId:"244954917282",appId:"1:244954917282:web:ca73ffe54faca3c7f02afb",measurementId:"G-CW6K4SWN5E"});var f=b.a.storage(),p=b.a.firestore(),O=b.a.firestore.FieldValue.serverTimestamp,m=function(e){var t=Object(a.useState)(0),c=Object(s.a)(t,2),n=c[0],i=c[1],r=Object(a.useState)(null),l=Object(s.a)(r,2),o=l[0],u=l[1],b=Object(a.useState)(null),m=Object(s.a)(b,2),g=m[0],h=m[1];return Object(a.useEffect)((function(){var t=f.ref(e.name),c=p.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;i(t)}),(function(e){u(e)}),Object(d.a)(j.a.mark((function e(){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:return a=e.sent,n=O(),e.next=6,c.add({url:a,createdAt:n});case 6:h(a);case 7:case"end":return e.stop()}}),e)}))))}),[e]),{progress:n,url:g,error:o}},g=c(32),h=function(e){var t=e.file,c=e.setFile,n=m(t),i=n.progress,r=n.url;return Object(a.useEffect)((function(){r&&c(null)}),[r,c]),Object(l.jsx)(g.a.div,{className:"progress-bar",initial:{width:0},animate:{width:i+"%"}})},v=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),c=t[0],n=t[1],i=Object(a.useState)(null),r=Object(s.a)(i,2),o=r[0],u=r[1],j=["image/png","image/jpeg"];return Object(l.jsxs)("form",{children:[Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&j.includes(t.type)?(n(t),u("")):(n(null),u("Please select an image file (png or jpg)"))}}),Object(l.jsx)("span",{children:"+"})]}),Object(l.jsxs)("div",{className:"output",children:[o&&Object(l.jsx)("div",{className:"error",children:o}),c&&Object(l.jsx)("div",{children:c.name}),c&&Object(l.jsx)(h,{file:c,setFile:n})]})]})},x=c(15),y=function(e){var t=Object(a.useState)([]),c=Object(s.a)(t,2),n=c[0],i=c[1];return Object(a.useEffect)((function(){var t=p.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(x.a)(Object(x.a)({},e.data()),{},{id:e.id}))})),i(t)}));return function(){return t()}}),[e]),{docs:n}},S=function(e){var t=e.setSelectedImg,c=y("images").docs;return Object(l.jsx)("div",{className:"img-grid",children:c&&c.map((function(e){return Object(l.jsx)(g.a.div,{className:"img-wrap",layout:!0,whileHover:{opacity:1},onClick:function(){return t(e.url)},children:Object(l.jsx)(g.a.img,{src:e.url,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}})},e.id)}))})},k=function(e){var t=e.setSelectedImg,c=e.selectedImg;return Object(l.jsx)(g.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&t(null)},initial:{opacity:0},animate:{opacity:1},children:Object(l.jsx)(g.a.img,{src:c,alt:"enlarged pic",initial:{y:"-100vh"},animate:{y:0}})})};var I=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),c=t[0],n=t[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(o,{}),Object(l.jsx)(v,{}),Object(l.jsx)(S,{setSelectedImg:n}),c&&Object(l.jsx)(k,{selectedImg:c,setSelectedImg:n})]})};r.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(I,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.3d31bc78.chunk.js.map